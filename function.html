<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrosPuzz - 機能説明</title>
    <meta name="description" content="CrosPuzzの機能とタテの鍵表示修正について">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="white">
                            <rect x="2" y="6" width="3" height="3"/>
                            <rect x="7" y="2" width="3" height="3"/>
                            <rect x="12" y="6" width="3" height="3"/>
                            <rect x="7" y="10" width="3" height="3"/>
                        </svg>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-900">CrosPuzz</h1>
                </div>
                <nav>
                    <a href="index.html" class="text-indigo-600 hover:text-indigo-800 font-medium">
                        <i class="fas fa-home mr-2"></i>ホームに戻る
                    </a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto px-4 py-8">
        <div class="bg-white rounded-lg shadow-lg p-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-8">
                <i class="fas fa-cogs text-indigo-600 mr-3"></i>
                機能説明とアップデート情報
            </h1>

            <!-- 緊急メンテナンス情報 -->
            <div class="bg-red-50 border-l-4 border-red-400 p-6 mb-8">
                <div class="flex">
                    <div class="flex-shrink-0">
                        <i class="fas fa-exclamation-triangle text-red-400 text-xl"></i>
                    </div>
                    <div class="ml-3">
                        <h3 class="text-lg font-medium text-red-800">
                            Web版で上級問題が表示されない場合の対処法
                        </h3>
                        <div class="mt-2 text-sm text-red-700">
                            <p class="mb-2">Service Workerのキャッシュが原因で古いデータが表示されている可能性があります。以下の手順でキャッシュをクリアしてください：</p>
                            <ol class="list-decimal list-inside space-y-1">
                                <li><strong>Chrome/Edge</strong>: F12 → Application → Storage → Clear site data</li>
                                <li><strong>Firefox</strong>: F12 → Storage → Clear All</li>
                                <li><strong>Safari</strong>: 開発メニュー → Webサイトデータを消去</li>
                                <li>ブラウザを完全に再起動</li>
                                <li>Ctrl+F5（Mac: Cmd+Shift+R）でハード再読み込み</li>
                            </ol>
                            <p class="mt-2 text-xs">※ローカル環境では正常に動作することを確認済みです</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 最新のアップデート -->
            <section class="mb-12">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-indigo-600 pb-2">
                    <i class="fas fa-star text-yellow-500 mr-2"></i>
                    最新のアップデート
                </h2>
                
                <div class="bg-indigo-50 border-l-4 border-indigo-400 p-6 mb-6">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-layer-group text-indigo-400 text-xl"></i>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-lg font-medium text-indigo-800">
                                難易度別選択機能を実装
                            </h3>
                            <div class="mt-2 text-sm text-indigo-700">
                                <p>直感的な難易度選択ボタンと改良されたUI/UXを実装しました。</p>
                                <ul class="list-disc list-inside mt-2 space-y-1">
                                    <li><strong>🎮 直感的UI</strong>: 3つの難易度ボタンでワンクリック選択</li>
                                    <li><strong>🎨 視覚的フィードバック</strong>: 選択状態の明確な表示</li>
                                    <li><strong>💾 状態保存</strong>: 選択した難易度を自動保存・復元</li>
                                    <li><strong>🏷️ 動的バッジ</strong>: アイコン付き難易度表示の自動更新</li>
                                    <li><strong>📋 フィルタ機能</strong>: 選択難易度のパズルのみ表示</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-purple-50 border-l-4 border-purple-400 p-6 mb-6">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-plus-circle text-purple-400 text-xl"></i>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-lg font-medium text-purple-800">
                                難易度別問題を大幅拡充
                            </h3>
                            <div class="mt-2 text-sm text-purple-700">
                                <p>各難易度に5問ずつ、合計15問の豊富なパズルを追加しました。</p>
                                <ul class="list-disc list-inside mt-2 space-y-1">
                                    <li><strong>🟢 初級5問</strong>: 動物、果物、乗り物、色、身の回りのもの</li>
                                    <li><strong>🟡 中級5問</strong>: 食べ物、スポーツ、都道府県、四季、職業</li>
                                    <li><strong>🔴 上級5問</strong>: 科学技術、医学、地理、芸術、歴史</li>
                                    <li><strong>🎯 パズル選択機能</strong>: ドロップダウンで自由に選択可能</li>
                                    <li><strong>🏷️ 難易度表示</strong>: 視覚的に分かりやすい難易度バッジ</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-cyan-50 border-l-4 border-cyan-400 p-6 mb-6">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-balance-scale text-cyan-400 text-xl"></i>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-lg font-medium text-cyan-800">
                                タテヨコのバランスを改善
                            </h3>
                            <div class="mt-2 text-sm text-cyan-700">
                                <p>タテとヨコのカギの数が均等になるよう、配置アルゴリズムを最適化しました。</p>
                                <ul class="list-disc list-inside mt-2 space-y-1">
                                    <li><strong>⚖️ バランス追跡</strong>: 配置中のタテヨコ数をリアルタイム追跡</li>
                                    <li><strong>🎯 最適配置選択</strong>: 少ない方向を優先的に配置</li>
                                    <li><strong>📊 統計表示</strong>: バランス比率をコンソールに表示</li>
                                    <li><strong>✨ 自然な生成</strong>: より本格的なクロスワードパズル体験</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-blue-50 border-l-4 border-blue-400 p-6 mb-6">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-check-circle text-blue-400 text-xl"></i>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-lg font-medium text-blue-800">
                                番号付けロジック問題を修正
                            </h3>
                            <div class="mt-2 text-sm text-blue-700">
                                <p>パズル上に番号があるのにカギに該当番号がない問題を解決しました。</p>
                                <ul class="list-disc list-inside mt-2 space-y-1">
                                    <li><strong>🔢 番号付けロジック改善</strong>: 実際に配置された単語のみに番号を付与</li>
                                    <li><strong>📋 カギと番号の完全一致</strong>: グリッド番号とカギ番号を100%整合</li>
                                    <li><strong>📊 デバッグ機能追加</strong>: 番号付けプロセスの詳細ログ</li>
                                    <li><strong>✅ 品質保証</strong>: 不一致問題の根本解決</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-green-50 border-l-4 border-green-400 p-6 mb-6">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-check-circle text-green-400 text-xl"></i>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-lg font-medium text-green-800">
                                パズル生成問題を完全修正
                            </h3>
                            <div class="mt-2 text-sm text-green-700">
                                <p>パズルが表示されない重大な問題を解決しました。</p>
                                <ul class="list-disc list-inside mt-2 space-y-1">
                                    <li><strong>🔄 無限ループ解消</strong>: 再試行ロジックの問題を修正</li>
                                    <li><strong>⚡ パフォーマンス改善</strong>: 単語数を8個に制限</li>
                                    <li><strong>⏱️ タイムアウト機能</strong>: 5秒でパズル生成を制限</li>
                                    <li><strong>🛡️ フォールバック機能</strong>: 安定したパズル生成を保証</li>
                                    <li><strong>📊 デバッグ強化</strong>: 詳細なログでトラブルシューティング改善</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 主な機能 -->
            <section class="mb-12">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-indigo-600 pb-2">
                    <i class="fas fa-puzzle-piece text-indigo-600 mr-2"></i>
                    主な機能
                </h2>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-blue-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-blue-800 mb-3">
                            <i class="fas fa-magic mr-2"></i>
                            動的パズル生成
                        </h3>
                        <p class="text-blue-700">
                            単語データから自動的にクロスワードパズルを生成。
                            交差点を計算して最適な配置を決定します。
                        </p>
                    </div>

                    <div class="bg-green-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-green-800 mb-3">
                            <i class="fas fa-lightbulb mr-2"></i>
                            ヒント機能
                        </h3>
                        <p class="text-green-700">
                            困った時に使えるヒント機能。
                            ランダムなセルに正解を表示します（3回まで）。
                        </p>
                    </div>

                    <div class="bg-yellow-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-yellow-800 mb-3">
                            <i class="fas fa-clock mr-2"></i>
                            タイマー機能
                        </h3>
                        <p class="text-yellow-700">
                            パズル開始からの経過時間を表示。
                            完了時間も記録されます。
                        </p>
                    </div>

                    <div class="bg-purple-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-purple-800 mb-3">
                            <i class="fas fa-mobile-alt mr-2"></i>
                            レスポンシブデザイン
                        </h3>
                        <p class="text-purple-700">
                            PC・タブレット・スマートフォンに対応。
                            どのデバイスでも快適にプレイできます。
                        </p>
                    </div>
                </div>
            </section>

            <!-- 技術仕様 -->
            <section class="mb-12">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-indigo-600 pb-2">
                    <i class="fas fa-code text-indigo-600 mr-2"></i>
                    技術仕様
                </h2>

                <div class="bg-gray-50 rounded-lg p-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h3 class="font-semibold text-gray-800 mb-3">フロントエンド</h3>
                            <ul class="space-y-2 text-gray-600">
                                <li><i class="fab fa-html5 mr-2 text-orange-500"></i>HTML5</li>
                                <li><i class="fab fa-css3-alt mr-2 text-blue-500"></i>CSS3 (Tailwind CSS)</li>
                                <li><i class="fab fa-js-square mr-2 text-yellow-500"></i>JavaScript (ES6+)</li>
                                <li><i class="fas fa-mobile-alt mr-2 text-green-500"></i>PWA対応</li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800 mb-3">パズル生成</h3>
                            <ul class="space-y-2 text-gray-600">
                                <li><i class="fas fa-brain mr-2 text-purple-500"></i>交差点検出アルゴリズム</li>
                                <li><i class="fas fa-hashtag mr-2 text-blue-500"></i>自動番号付け</li>
                                <li><i class="fas fa-language mr-2 text-red-500"></i>日本語文字正規化</li>
                                <li><i class="fas fa-tachometer-alt mr-2 text-green-500"></i>パフォーマンス最適化</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- バグ修正履歴 -->
            <section class="mb-12">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-indigo-600 pb-2">
                    <i class="fas fa-bug text-red-600 mr-2"></i>
                    バグ修正履歴
                </h2>

                <div class="space-y-4">
                    <div class="bg-white border border-red-200 rounded-lg p-4 border-l-4 border-l-red-500">
                        <div class="flex items-start">
                            <span class="bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full mr-3 mt-1">
                                緊急修正済
                            </span>
                            <div>
                                <h3 class="font-semibold text-gray-900">パズルが表示されない致命的な問題</h3>
                                <p class="text-gray-600 text-sm mt-1">
                                    パズル生成時の無限ループにより、パズルが全く表示されない重大な問題を修正。
                                    再試行ロジックの不備が原因で、ユーザーは空白の画面しか見えない状態でした。
                                </p>
                                <div class="mt-2 text-xs text-gray-600">
                                    <p><strong>症状:</strong> パズルグリッドとカギが全く表示されない</p>
                                    <p><strong>原因:</strong> 無限ループによるブラウザフリーズ</p>
                                    <p><strong>解決策:</strong> 再試行ロジック削除、タイムアウト機能追加</p>
                                </div>
                                <p class="text-xs text-gray-500 mt-2">
                                    <i class="fas fa-calendar mr-1"></i>修正日: 2024年7月24日
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white border border-gray-200 rounded-lg p-4">
                        <div class="flex items-start">
                            <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full mr-3 mt-1">
                                修正済
                            </span>
                            <div>
                                <h3 class="font-semibold text-gray-900">タテの鍵が表示されない問題</h3>
                                <p class="text-gray-600 text-sm mt-1">
                                    パズル生成時にタテ方向の単語の番号付けが正しく行われず、タテの鍵が表示されない問題を修正。
                                </p>
                                <p class="text-xs text-gray-500 mt-2">
                                    <i class="fas fa-calendar mr-1"></i>修正日: 2024年7月24日
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white border border-gray-200 rounded-lg p-4">
                        <div class="flex items-start">
                            <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full mr-3 mt-1">
                                修正済
                            </span>
                            <div>
                                <h3 class="font-semibold text-gray-900">パフォーマンス問題</h3>
                                <p class="text-gray-600 text-sm mt-1">
                                    大量の単語を処理する際の無限ループと過度な再試行による処理遅延を改善。
                                    単語数制限とタイムアウト機能で安定性を向上。
                                </p>
                                <p class="text-xs text-gray-500 mt-2">
                                    <i class="fas fa-calendar mr-1"></i>修正日: 2024年7月24日
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 今後の予定 -->
            <section>
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-indigo-600 pb-2">
                    <i class="fas fa-road text-indigo-600 mr-2"></i>
                    今後の開発予定
                </h2>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-blue-50 rounded-lg p-6">
                        <h3 class="font-semibold text-blue-800 mb-3">
                            <i class="fas fa-chart-line mr-2"></i>
                            機能拡張
                        </h3>
                        <ul class="space-y-2 text-blue-700 text-sm">
                            <li>• 難易度選択の拡充</li>
                            <li>• テーマ別パズル</li>
                            <li>• ランキング機能</li>
                            <li>• ソーシャル機能</li>
                        </ul>
                    </div>

                    <div class="bg-green-50 rounded-lg p-6">
                        <h3 class="font-semibold text-green-800 mb-3">
                            <i class="fas fa-tools mr-2"></i>
                            改善項目
                        </h3>
                        <ul class="space-y-2 text-green-700 text-sm">
                            <li>• UIの更なる改善</li>
                            <li>• アクセシビリティ対応</li>
                            <li>• 多言語対応の拡充</li>
                            <li>• オフライン機能の強化</li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p>&copy; 2024 CrosPuzz. All rights reserved.</p>
            <p class="text-gray-400 text-sm mt-2">
                Generated with <a href="https://claude.ai/code" class="text-indigo-400 hover:text-indigo-300">Claude Code</a>
            </p>
        </div>
    </footer>
</body>
</html>